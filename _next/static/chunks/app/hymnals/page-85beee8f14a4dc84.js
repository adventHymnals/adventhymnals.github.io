(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{9992:function(e,t,r){Promise.resolve().then(r.bind(r,1728)),Promise.resolve().then(r.bind(r,6617)),Promise.resolve().then(r.t.bind(r,3795,23))},5237:function(e,t,r){"use strict";r.d(t,{default:function(){return o}});var n=r(8980),a=r(2208);let l=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))});var s=r(1294);function o(e){let{hymnalId:t,hymnalName:r,totalHymns:o,className:i="",size:c="md",variant:d="primary"}=e,[m,u]=(0,a.useState)(!1),[h,x]=(0,a.useState)(0),f=async()=>{if(!m){u(!0),x(0);try{var e,n;let a=await fetch((0,s.kG)("/api/hymnals/".concat(t,"/pdf")));if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));let l=null===(e=a.body)||void 0===e?void 0:e.getReader(),o=+(null!==(n=a.headers.get("content-length"))&&void 0!==n?n:0);if(!l)throw Error("ReadableStream not supported");let i=[],c=0;for(;;){let{done:e,value:t}=await l.read();if(e)break;i.push(t),c+=t.length,o>0&&x(Math.round(c/o*100))}let d=new Uint8Array(c),m=0;for(let e of i)d.set(e,m),m+=e.length;let u=new Blob([d],{type:"application/pdf"}),h=window.URL.createObjectURL(u),f=document.createElement("a");f.href=h,f.download="".concat(r.replace(/[^a-zA-Z0-9\s]/g,""),"_Hymnal.pdf"),document.body.appendChild(f),f.click(),document.body.removeChild(f),window.URL.revokeObjectURL(h)}catch(e){console.error("Download failed:",e),alert("Failed to download PDF. Please try again.")}finally{u(!1),x(0)}}},g={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return(0,n.jsxs)("button",{onClick:f,disabled:m,className:"\n        inline-flex items-center font-medium rounded-md transition-colors duration-200 \n        ".concat({sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[c]," \n        ").concat({primary:"bg-primary-600 hover:bg-primary-700 text-white",secondary:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300"}[d],"\n        ").concat(m?"opacity-50 cursor-not-allowed":"","\n        ").concat(i,"\n      "),title:"Download ".concat(r," PDF (").concat(o," hymns)"),children:[(0,n.jsx)(l,{className:"".concat(g[c]," mr-1.5")}),m?(0,n.jsxs)("span",{className:"flex items-center",children:[h>0?"".concat(h,"%"):"Generating...",(0,n.jsxs)("svg",{className:"animate-spin ml-2 ".concat(g[c]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]}):"sm"===c?"PDF":"lg"===c?"Download PDF (".concat(o," hymns)"):"Download"]})}},1728:function(e,t,r){"use strict";r.d(t,{default:function(){return d}});var n=r(8980),a=r(2208),l=r(9014),s=r(5999),o=r(9603),i=r(1802),c=r(5237);function d(e){let{hymnals:t}=e,[r,d]=(0,a.useState)("all"),[m,u]=(0,a.useState)(""),h=(0,a.useMemo)(()=>Array.from(new Set(t.map(e=>e.language_name))).sort(),[t]),x=(0,a.useMemo)(()=>{let e=t;if("all"!==r&&(e=e.filter(e=>e.language_name===r)),m.trim()){let t=m.toLowerCase();e=e.filter(e=>{var r,n;return e.name.toLowerCase().includes(t)||(null===(r=e.site_name)||void 0===r?void 0:r.toLowerCase().includes(t))||e.abbreviation.toLowerCase().includes(t)||(null===(n=e.compiler)||void 0===n?void 0:n.toLowerCase().includes(t))||e.year.toString().includes(t)})}return e.sort((e,t)=>t.year-e.year)},[t,r,m]);return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsxs)("div",{className:"relative max-w-md",children:[(0,n.jsx)(s.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,n.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),placeholder:"Search hymnals by name, year, compiler...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]})}),(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,n.jsxs)("button",{onClick:()=>d("all"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("all"===r?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["All Languages (",t.length,")"]}),h.map(e=>{let a=t.filter(t=>t.language_name===e).length;return(0,n.jsxs)("button",{onClick:()=>d(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(r===e?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e," (",a,")"]},e)})]})}),(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsxs)("p",{className:"text-gray-600",children:["Showing ",x.length," of ",t.length," collections","all"!==r&&" in ".concat(r)]})}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2 xl:grid-cols-3",children:x.map(e=>(0,n.jsxs)("div",{className:"group relative overflow-hidden rounded-xl bg-white p-6 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105 flex flex-col h-full",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:(0,n.jsx)(o.Z,{className:"h-6 w-6 text-primary-600"})})}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.year}),(0,n.jsxs)("div",{className:"text-sm text-gray-500",children:[e.total_songs," hymns"]})]})]}),(0,n.jsxs)("div",{className:"mb-4 flex-grow",children:[(0,n.jsx)(l.default,{href:"/".concat(e.url_slug),children:(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 hover:text-primary-600 transition-colors cursor-pointer",children:e.name})}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.abbreviation}),(0,n.jsx)("div",{className:"space-y-2 mt-4",children:e.compiler&&(0,n.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,n.jsx)(i.Z,{className:"h-4 w-4 mr-2 flex-shrink-0"}),(0,n.jsx)("span",{children:e.compiler})]})}),(0,n.jsxs)("div",{className:"text-sm text-gray-700 mt-4",children:["A collection of ",e.total_songs," hymns from ",e.year,"."]})]}),(0,n.jsxs)("div",{className:"mt-auto pt-4 space-y-3",children:[(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(l.default,{href:"/".concat(e.url_slug),className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Browse Hymns"}),(0,n.jsx)(c.default,{hymnalId:e.id,hymnalName:e.name,totalHymns:e.total_songs,size:"sm",variant:"primary"})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.total_songs>600&&(0,n.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Large Collection"}),e.year<1900&&(0,n.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:"Historical"})]}),(0,n.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.language_name})]})]}),(0,n.jsx)("div",{className:"absolute inset-0 bg-primary-50 opacity-0 group-hover:opacity-20 transition-opacity pointer-events-none"})]},e.id))}),0===x.length&&(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)(o.Z,{className:"mx-auto h-12 w-12 text-gray-300"}),(0,n.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No hymnals found"}),(0,n.jsx)("p",{className:"mt-2 text-gray-500",children:"No hymnals match your current filter criteria."})]})]})}},9014:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(3795),a=r.n(n)},9211:function(e,t,r){"use strict";var n=r(2544);r.o(n,"notFound")&&r.d(t,{notFound:function(){return n.notFound}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},1285:function(e,t,r){"use strict";var n=r(2208);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))});t.Z=a},9603:function(e,t,r){"use strict";var n=r(2208);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))});t.Z=a},2886:function(e,t,r){"use strict";var n=r(2208);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))});t.Z=a},5999:function(e,t,r){"use strict";var n=r(2208);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});t.Z=a},738:function(e,t,r){"use strict";var n=r(2208);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"}))});t.Z=a},1802:function(e,t,r){"use strict";var n=r(2208);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))});t.Z=a},1474:function(e,t,r){"use strict";var n=r(2208);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});t.Z=a}},function(e){e.O(0,[795,222,791,14,512,744],function(){return e(e.s=9992)}),_N_E=e.O()}]);