(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{2410:function(e,t,r){Promise.resolve().then(r.bind(r,6617)),Promise.resolve().then(r.bind(r,7257)),Promise.resolve().then(r.t.bind(r,3795,23))},7257:function(e,t,r){"use strict";r.d(t,{default:function(){return u}});var a=r(8980),s=r(2208),l=r(9014),n=r(5999);let i=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))});var o=r(2886),c=r(1474);function m(e){let{options:t,selectedValues:r,onChange:l,placeholder:n,className:i=""}=e,[m,d]=(0,s.useState)(!1),u=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let h=e=>{r.includes(e)?l(r.filter(t=>t!==e)):l([...r,e])},x=(e,t)=>{t.stopPropagation(),l(r.filter(t=>t!==e))};return(0,a.jsxs)("div",{className:"relative ".concat(i),ref:u,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>d(!m),className:"relative w-full rounded-md border border-gray-300 bg-white py-1 px-2 text-left text-xs sm:text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[(0,a.jsx)("span",{className:"block truncate",children:(()=>{if(0===r.length)return n;if(1===r.length){let e=t.find(e=>e.value===r[0]);return(null==e?void 0:e.label)||r[0]}return"".concat(r.length," selected")})()}),(0,a.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,a.jsx)(o.Z,{className:"h-3 w-3 text-gray-400","aria-hidden":"true"})})]}),m&&(0,a.jsx)("div",{className:"absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-xs sm:text-sm shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:t.map(e=>(0,a.jsxs)("div",{className:"relative cursor-pointer select-none py-2 pl-3 pr-9 hover:bg-gray-50 ".concat(r.includes(e.value)?"bg-primary-50 text-primary-600":"text-gray-900"),onClick:()=>h(e.value),children:[(0,a.jsx)("span",{className:"block truncate",children:e.label}),r.includes(e.value)&&(0,a.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-primary-600",children:"✓"})]},e.value))}),r.length>0&&(0,a.jsx)("div",{className:"mt-1 flex flex-wrap gap-1 sm:hidden",children:r.map(e=>{let r=t.find(t=>t.value===e);return(0,a.jsxs)("span",{className:"inline-flex items-center rounded-full bg-primary-100 px-2 py-0.5 text-xs text-primary-800",children:[(null==r?void 0:r.label)||e,(0,a.jsx)("button",{type:"button",onClick:t=>x(e,t),className:"ml-1 inline-flex h-3 w-3 flex-shrink-0 items-center justify-center rounded-full text-primary-400 hover:bg-primary-200 hover:text-primary-500",children:(0,a.jsx)(c.Z,{className:"h-2 w-2"})})]},e)})})]})}var d=r(1294);function u(e){let{hymnalReferences:t}=e,[r,o]=(0,s.useState)(""),[c,u]=(0,s.useState)([]),[h,x]=(0,s.useState)([]),[p,f]=(0,s.useState)([]),[g,y]=(0,s.useState)([]),[v,b]=(0,s.useState)(!1),[w,j]=(0,s.useState)(!1),N=Object.values(t.hymnals).map(e=>({value:e.id,label:e.abbreviation||e.name})),k=[{value:"english",label:"English"},{value:"kiswahili",label:"Kiswahili"},{value:"dholuo",label:"Dholuo"}],E=[{value:"worship",label:"Worship"},{value:"praise",label:"Praise"},{value:"prayer",label:"Prayer"},{value:"salvation",label:"Salvation"},{value:"christmas",label:"Christmas"},{value:"easter",label:"Easter"},{value:"communion",label:"Communion"},{value:"baptism",label:"Baptism"}];return(0,s.useEffect)(()=>{let e=setTimeout(async()=>{if(!r.trim()){y([]),j(!1);return}b(!0),j(!0);try{let e=await fetch((0,d.kG)("/api/search?q=".concat(encodeURIComponent(r),"&limit=50")));if(!e.ok)throw Error("Search failed");let t=await e.json();y(t)}catch(e){console.error("Search error:",e),y([])}finally{b(!1)}},500);return()=>clearTimeout(e)},[r]),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-6 py-6 sm:py-8 lg:py-12 lg:px-8",children:(0,a.jsxs)("div",{className:"mx-auto max-w-4xl",children:[(0,a.jsxs)("div",{className:"relative mb-6 sm:mb-8",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,a.jsx)(n.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,a.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value),className:"block w-full rounded-lg border-0 py-3 sm:py-4 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 text-base sm:text-lg",placeholder:"Search by title, number, composer, author, or theme...",autoFocus:!0})]}),(0,a.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 sm:gap-4 items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(i,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Filter by:"})]}),(0,a.jsx)(m,{options:N,selectedValues:c,onChange:u,placeholder:"All Hymnals",className:"min-w-[120px] max-w-[200px]"}),(0,a.jsx)(m,{options:k,selectedValues:h,onChange:x,placeholder:"All Languages",className:"min-w-[100px] max-w-[150px]"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m,{options:E,selectedValues:p,onChange:f,placeholder:"All Themes",className:"min-w-[100px] max-w-[150px]"}),(0,a.jsx)(l.default,{href:"/search/topics",className:"text-xs sm:text-sm text-primary-600 hover:text-primary-700 font-medium whitespace-nowrap",children:"Browse Topics →"})]})]})}),v?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Searching..."})]}):w?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Found ",g.length," result",1!==g.length?"s":"",' for "',r,'"']})}),0===g.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsx)(n.Z,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hymns found"}),(0,a.jsx)("p",{className:"text-sm",children:"Try a different search term or check your spelling."})]}):(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"grid gap-4",children:g.map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:(0,a.jsxs)(l.default,{href:"/".concat(e.hymnal.url_slug,"/").concat(e.hymn.slug||"hymn-".concat(e.hymn.number,"-").concat(e.hymn.title.toLowerCase().replace(/[^a-z0-9]+/g,"-"))),className:"hover:text-primary-600 transition-colors",children:["#",e.hymn.number," - ",e.hymn.title]})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-primary-600",children:e.hymnal.abbreviation}),e.hymn.author&&(0,a.jsxs)("span",{children:["Author: ",e.hymn.author]}),e.hymn.composer&&(0,a.jsxs)("span",{children:["Composer: ",e.hymn.composer]})]}),e.hymn.first_line&&(0,a.jsxs)("p",{className:"text-gray-500 italic text-sm",children:['"',e.hymn.first_line,'"']})]}),(0,a.jsxs)("div",{className:"ml-4 flex space-x-2",children:[(0,a.jsx)(l.default,{href:"/".concat(e.hymnal.url_slug,"/").concat(e.hymn.slug||"hymn-".concat(e.hymn.number,"-").concat(e.hymn.title.toLowerCase().replace(/[^a-z0-9]+/g,"-"))),className:"inline-flex items-center px-3 py-1 border border-primary-300 text-sm font-medium rounded-md text-primary-700 bg-primary-50 hover:bg-primary-100 transition-colors",children:"View"}),(0,a.jsx)(l.default,{href:"/projection/".concat(e.hymn.id),className:"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Project"})]})]})},e.hymn.id))})})]}):(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center text-gray-500",children:[(0,a.jsx)(n.Z,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start Your Search"}),(0,a.jsx)("p",{className:"text-sm",children:"Enter a search term above to find hymns across all collections, or use the filters to narrow your search."}),(c.length>0||h.length>0||p.length>0)&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Active filters:"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 justify-center",children:[c.map(e=>{let t=N.find(t=>t.value===e);return(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2 py-1 text-xs text-blue-800",children:null==t?void 0:t.label},e)}),h.map(e=>{let t=k.find(t=>t.value===e);return(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2 py-1 text-xs text-green-800",children:null==t?void 0:t.label},e)}),p.map(e=>{let t=E.find(t=>t.value===e);return(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-purple-100 px-2 py-1 text-xs text-purple-800",children:null==t?void 0:t.label},e)})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg border hover:shadow-md transition-shadow",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Popular Searches"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(l.default,{href:"/search?q=amazing+grace",className:"block text-sm text-primary-600 hover:text-primary-700",children:"Amazing Grace"}),(0,a.jsx)(l.default,{href:"/search?q=holy+holy+holy",className:"block text-sm text-primary-600 hover:text-primary-700",children:"Holy, Holy, Holy"}),(0,a.jsx)(l.default,{href:"/search?q=blessed+assurance",className:"block text-sm text-primary-600 hover:text-primary-700",children:"Blessed Assurance"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg border hover:shadow-md transition-shadow",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Browse by Theme"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(l.default,{href:"/search?theme=christmas",className:"block text-sm text-primary-600 hover:text-primary-700",children:"Christmas Hymns"}),(0,a.jsx)(l.default,{href:"/search?theme=easter",className:"block text-sm text-primary-600 hover:text-primary-700",children:"Easter Songs"}),(0,a.jsx)(l.default,{href:"/search?theme=communion",className:"block text-sm text-primary-600 hover:text-primary-700",children:"Communion"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg border hover:shadow-md transition-shadow",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Quick Access"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(l.default,{href:"/seventh-day-adventist-hymnal",className:"block text-sm text-primary-600 hover:text-primary-700",children:"SDA Hymnal"}),(0,a.jsx)(l.default,{href:"/christ-in-song",className:"block text-sm text-primary-600 hover:text-primary-700",children:"Christ in Song"}),(0,a.jsx)(l.default,{href:"/hymnals",className:"block text-sm text-primary-600 hover:text-primary-700",children:"All Collections"})]})]})]})]})})})}},9014:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(3795),s=r.n(a)},9211:function(e,t,r){"use strict";var a=r(2544);r.o(a,"notFound")&&r.d(t,{notFound:function(){return a.notFound}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},1285:function(e,t,r){"use strict";var a=r(2208);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))});t.Z=s},9603:function(e,t,r){"use strict";var a=r(2208);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))});t.Z=s},2886:function(e,t,r){"use strict";var a=r(2208);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))});t.Z=s},5999:function(e,t,r){"use strict";var a=r(2208);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});t.Z=s},738:function(e,t,r){"use strict";var a=r(2208);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"}))});t.Z=s},1474:function(e,t,r){"use strict";var a=r(2208);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});t.Z=s}},function(e){e.O(0,[795,222,791,14,512,744],function(){return e(e.s=2410)}),_N_E=e.O()}]);