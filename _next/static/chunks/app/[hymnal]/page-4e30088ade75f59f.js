(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{2739:function(e,t,r){Promise.resolve().then(r.bind(r,6025)),Promise.resolve().then(r.bind(r,5237)),Promise.resolve().then(r.bind(r,6617)),Promise.resolve().then(r.t.bind(r,3795,23))},6025:function(e,t,r){"use strict";r.d(t,{default:function(){return c}});var n=r(8980),a=r(2208),l=r(9014),o=r(5999),s=r(6199);function i(e){return e.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim()}function c(e){let{hymns:t,hymnalSlug:r,hymnalName:c,total:d}=e,[u,m]=(0,a.useState)(""),[h,f]=(0,a.useState)(t);return(0,a.useEffect)(()=>{if(!u.trim()){f(t);return}let e=i(u);f(t.filter(t=>{var r,n,a;let l=i(t.title||""),o=i(t.author||""),s=i(t.composer||""),c=i((null===(n=t.verses)||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.text)||""),d=(null===(a=t.number)||void 0===a?void 0:a.toString())||"";return l.includes(e)||o.includes(e)||s.includes(e)||c.includes(e)||d.includes(u.trim())}))},[u,t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mt-8 mx-auto max-w-md",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,n.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),placeholder:"Search ".concat(c,"..."),className:"w-full pl-10 pr-4 py-3 text-lg text-gray-900 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent shadow-sm placeholder-gray-500"})]})}),(0,n.jsxs)("div",{className:"mx-auto max-w-7xl px-6 py-12 lg:px-8",children:[(0,n.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:u?(0,n.jsxs)(n.Fragment,{children:["Showing ",(0,s.formatNumber)(h.length)," of ",(0,s.formatNumber)(d)," hymns"]}):(0,n.jsxs)(n.Fragment,{children:["Hymns (",(0,s.formatNumber)(d),")"]})}),(0,n.jsx)("p",{className:"mt-1 text-gray-600",children:u?'Results for "'.concat(u,'"'):"All hymns in this collection"})]})}),0===h.length&&u?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)(o.Z,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hymns found"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search terms."})]}):(0,n.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:h.map(e=>{var t,a,o,s,i,c;return(0,n.jsxs)(l.default,{href:"/".concat(r,"/hymn-").concat(e.number,"-").concat(e.title.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-")),className:"hymnal-card p-6 hover:scale-105 transform transition-all duration-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("span",{className:"hymn-number",children:["#",e.number]}),(null===(t=e.metadata)||void 0===t?void 0:t.themes)&&e.metadata.themes.length>0&&(0,n.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:e.metadata.themes[0]})]}),(0,n.jsx)("h3",{className:"hymn-title mb-2",children:e.title}),(e.author||e.composer)&&(0,n.jsxs)("div",{className:"text-sm text-gray-600 mb-3",children:[e.author&&(0,n.jsxs)("div",{children:["By ",e.author]}),e.composer&&(0,n.jsxs)("div",{children:["Music: ",e.composer]})]}),(null===(o=e.verses)||void 0===o?void 0:null===(a=o[0])||void 0===a?void 0:a.text)&&(0,n.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:null===(c=e.verses)||void 0===c?void 0:null===(i=c[0])||void 0===i?void 0:null===(s=i.text)||void 0===s?void 0:s.split("\n")[0]})]},e.id)})})]})]})}},5237:function(e,t,r){"use strict";r.d(t,{default:function(){return s}});var n=r(8980),a=r(2208);let l=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))});var o=r(1294);function s(e){let{hymnalId:t,hymnalName:r,totalHymns:s,className:i="",size:c="md",variant:d="primary"}=e,[u,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(0),x=async()=>{if(!u){m(!0),f(0);try{var e,n;let a=await fetch((0,o.kG)("/api/hymnals/".concat(t,"/pdf")));if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));let l=null===(e=a.body)||void 0===e?void 0:e.getReader(),s=+(null!==(n=a.headers.get("content-length"))&&void 0!==n?n:0);if(!l)throw Error("ReadableStream not supported");let i=[],c=0;for(;;){let{done:e,value:t}=await l.read();if(e)break;i.push(t),c+=t.length,s>0&&f(Math.round(c/s*100))}let d=new Uint8Array(c),u=0;for(let e of i)d.set(e,u),u+=e.length;let m=new Blob([d],{type:"application/pdf"}),h=window.URL.createObjectURL(m),x=document.createElement("a");x.href=h,x.download="".concat(r.replace(/[^a-zA-Z0-9\s]/g,""),"_Hymnal.pdf"),document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(h)}catch(e){console.error("Download failed:",e),alert("Failed to download PDF. Please try again.")}finally{m(!1),f(0)}}},v={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return(0,n.jsxs)("button",{onClick:x,disabled:u,className:"\n        inline-flex items-center font-medium rounded-md transition-colors duration-200 \n        ".concat({sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[c]," \n        ").concat({primary:"bg-primary-600 hover:bg-primary-700 text-white",secondary:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300"}[d],"\n        ").concat(u?"opacity-50 cursor-not-allowed":"","\n        ").concat(i,"\n      "),title:"Download ".concat(r," PDF (").concat(s," hymns)"),children:[(0,n.jsx)(l,{className:"".concat(v[c]," mr-1.5")}),u?(0,n.jsxs)("span",{className:"flex items-center",children:[h>0?"".concat(h,"%"):"Generating...",(0,n.jsxs)("svg",{className:"animate-spin ml-2 ".concat(v[c]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]}):"sm"===c?"PDF":"lg"===c?"Download PDF (".concat(s," hymns)"):"Download"]})}},9014:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(3795),a=r.n(n)},9211:function(e,t,r){"use strict";var n=r(2544);r.o(n,"notFound")&&r.d(t,{notFound:function(){return n.notFound}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},1285:function(e,t,r){"use strict";var n=r(2208);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))});t.Z=a},9603:function(e,t,r){"use strict";var n=r(2208);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))});t.Z=a},2886:function(e,t,r){"use strict";var n=r(2208);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))});t.Z=a},5999:function(e,t,r){"use strict";var n=r(2208);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});t.Z=a},738:function(e,t,r){"use strict";var n=r(2208);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"}))});t.Z=a},1474:function(e,t,r){"use strict";var n=r(2208);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});t.Z=a}},function(e){e.O(0,[795,222,791,14,512,744],function(){return e(e.s=2739)}),_N_E=e.O()}]);