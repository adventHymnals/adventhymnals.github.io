(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{9060:function(e,t,s){Promise.resolve().then(s.bind(s,5919)),Promise.resolve().then(s.bind(s,6617)),Promise.resolve().then(s.bind(s,835)),Promise.resolve().then(s.t.bind(s,3795,23))},5919:function(e,t,s){"use strict";s.d(t,{default:function(){return N}});var r=s(8980),n=s(2208);let a=n.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))});var o=s(738),l=s(1285);let i=n.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))});var c=s(2424);let d={lyrics:a,solfa:o.Z,staff:l.Z,chord:i},m={lyrics:"Lyrics",solfa:"Sol-fa",staff:"Staff Notation",chord:"Chords"},h={lyrics:"Text only with verse structure",solfa:"Do-Re-Mi notation system",staff:"Traditional musical staff notation",chord:"Guitar/piano chord symbols"};function u(e){let{currentFormat:t,availableFormats:s,onFormatChange:a,className:o}=e,[l,i]=(0,n.useState)(!1);return(0,r.jsxs)("div",{className:(0,c.A)("relative",o),children:[(0,r.jsxs)("button",{onClick:()=>i(!l),className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",children:[(()=>{let e=d[t];return(0,r.jsx)(e,{className:"h-5 w-5 text-gray-600"})})(),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:m[t]}),(0,r.jsx)("svg",{className:(0,c.A)("h-4 w-4 text-gray-400 transition-transform",l?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),(0,r.jsx)("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsx)("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide border-b border-gray-100",children:"Display Format"}),s.map(e=>{let s=d[e],n=e===t;return(0,r.jsxs)("button",{onClick:()=>{a(e),i(!1)},className:(0,c.A)("w-full flex items-start space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors",n?"bg-primary-50 border-r-2 border-primary-500":""),children:[(0,r.jsx)(s,{className:(0,c.A)("h-5 w-5 mt-0.5 flex-shrink-0",n?"text-primary-600":"text-gray-400")}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:(0,c.A)("text-sm font-medium",n?"text-primary-900":"text-gray-900"),children:m[e]}),(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-0.5",children:h[e]})]}),n&&(0,r.jsx)("div",{className:"h-5 w-5 flex items-center justify-center",children:(0,r.jsx)("div",{className:"h-2 w-2 bg-primary-600 rounded-full"})})]},e)})]})})]})]})}function x(e){let{hymn:t,className:s}=e;return(0,r.jsxs)("div",{className:(0,c.A)("space-y-6",s),children:[t.verses.map(e=>(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute left-0 top-0 w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-bold text-primary-600",children:e.number})}),(0,r.jsx)("div",{className:"ml-12",children:(0,r.jsx)("div",{className:"text-lg leading-relaxed text-gray-800 whitespace-pre-line",children:e.text})})]},e.number)),t.chorus&&(0,r.jsxs)("div",{className:"relative mt-8 p-6 bg-primary-50 border-l-4 border-primary-500 rounded-r-lg",children:[(0,r.jsx)("div",{className:"absolute left-0 top-0 w-8 h-8 bg-primary-500 rounded-full flex items-center justify-center -ml-6 mt-2",children:(0,r.jsx)("span",{className:"text-sm font-bold text-white",children:"C"})}),(0,r.jsxs)("div",{className:"ml-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-primary-900 mb-2",children:"Chorus"}),(0,r.jsx)("div",{className:"text-lg leading-relaxed text-primary-800 whitespace-pre-line",children:t.chorus.text})]})]})]})}function p(e){let{notation:t,className:s}=e;return t?(0,r.jsxs)("div",{className:(0,c.A)("space-y-6",s),children:[(0,r.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-amber-900 mb-4",children:"Sol-fa Notation"}),(0,r.jsx)("div",{className:"font-mono text-base leading-loose text-amber-800 whitespace-pre-line",children:t.content})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Sol-fa Guide"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs text-gray-600",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"do"})," - 1st degree"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"re"})," - 2nd degree"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"mi"})," - 3rd degree"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"fa"})," - 4th degree"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"sol"})," - 5th degree"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"la"})," - 6th degree"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"ti"})," - 7th degree"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"do'"})," - 8th degree (octave)"]})]})]})]}):(0,r.jsx)("div",{className:(0,c.A)("text-center py-12",s),children:(0,r.jsxs)("div",{className:"text-gray-500",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),(0,r.jsx)("p",{className:"text-lg font-medium",children:"Sol-fa notation not available"}),(0,r.jsx)("p",{className:"text-sm mt-2",children:"This hymn doesn't have sol-fa notation in our database yet."})]})})}function g(e){let{notation:t,className:s}=e;return t?(0,r.jsx)("div",{className:(0,c.A)("space-y-6",s),children:(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Staff Notation"}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-8 min-h-96",children:[(0,r.jsx)("div",{className:"text-blue-600 text-sm mb-4",children:"Musical Score"}),(0,r.jsx)("div",{className:"text-gray-500 text-sm",children:"Staff notation rendering would be displayed here using a music notation library like VexFlow or OSMD."})]})})]})}):(0,r.jsx)("div",{className:(0,c.A)("text-center py-12",s),children:(0,r.jsxs)("div",{className:"text-gray-500",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),(0,r.jsx)("p",{className:"text-lg font-medium",children:"Staff notation not available"}),(0,r.jsx)("p",{className:"text-sm mt-2",children:"Musical staff notation is not available for this hymn yet."})]})})}function b(e){let{notation:t,className:s}=e;return t?(0,r.jsx)("div",{className:(0,c.A)("space-y-6",s),children:(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-green-900 mb-4",children:"Chord Chart"}),(0,r.jsx)("div",{className:"font-mono text-base leading-loose text-green-800 whitespace-pre-line",children:t.content})]})}):(0,r.jsx)("div",{className:(0,c.A)("text-center py-12",s),children:(0,r.jsxs)("div",{className:"text-gray-500",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),(0,r.jsx)("p",{className:"text-lg font-medium",children:"Chord charts not available"}),(0,r.jsx)("p",{className:"text-sm mt-2",children:"Guitar/piano chord notation is not available for this hymn yet."})]})})}function f(e){var t;let{hymn:s,format:n,className:a}=e,o=null===(t=s.notations)||void 0===t?void 0:t.find(e=>e.format===n);switch(n){case"lyrics":default:return(0,r.jsx)(x,{hymn:s,className:a});case"solfa":return(0,r.jsx)(p,{notation:o,className:a});case"staff":return(0,r.jsx)(g,{notation:o,className:a});case"chord":return(0,r.jsx)(b,{notation:o,className:a})}}let v=n.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5m.75-9 3-3 2.148 2.148A12.061 12.061 0 0 1 16.5 7.605"}))});var w=s(9e3);let y={showVerseNumbers:!0,showChorusAfterEachVerse:!0,fontSize:"large",theme:"light",showMetadata:!0,autoAdvance:!1};function j(e){let{hymn:t,className:s}=e,[a,o]=(0,n.useState)(!1),[l,i]=(0,n.useState)(y),d=()=>{let e=new URLSearchParams({settings:JSON.stringify(l)}),s="/projection/".concat(t.id,"?").concat(e.toString());window.open(s,"_blank","width=1920,height=1080,fullscreen=yes")};return(0,r.jsxs)("div",{className:(0,c.A)("relative",s),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors",children:[(0,r.jsx)(v,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Project"})]}),(0,r.jsx)("button",{onClick:()=>{o(!0)},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Projection Settings",children:(0,r.jsx)(w.Z,{className:"h-5 w-5"})})]}),a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:()=>o(!1)}),(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-screen overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Projection Settings"}),(0,r.jsx)("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Display Options"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:l.showVerseNumbers,onChange:e=>i(t=>({...t,showVerseNumbers:e.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Show verse numbers"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:l.showChorusAfterEachVerse,onChange:e=>i(t=>({...t,showChorusAfterEachVerse:e.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Show chorus after each verse"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:l.showMetadata,onChange:e=>i(t=>({...t,showMetadata:e.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Show hymn information"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Font Size"}),(0,r.jsxs)("select",{value:l.fontSize,onChange:e=>i(t=>({...t,fontSize:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",children:[(0,r.jsx)("option",{value:"small",children:"Small"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"large",children:"Large"}),(0,r.jsx)("option",{value:"extra-large",children:"Extra Large"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Theme"}),(0,r.jsxs)("select",{value:l.theme,onChange:e=>i(t=>({...t,theme:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",children:[(0,r.jsx)("option",{value:"light",children:"Light"}),(0,r.jsx)("option",{value:"dark",children:"Dark"}),(0,r.jsx)("option",{value:"high-contrast",children:"High Contrast"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Auto Advance"}),(0,r.jsxs)("label",{className:"flex items-center mb-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:l.autoAdvance,onChange:e=>i(t=>({...t,autoAdvance:e.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Enable auto advance"})]}),l.autoAdvance&&(0,r.jsxs)("div",{className:"ml-6",children:[(0,r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Delay (seconds)"}),(0,r.jsx)("input",{type:"number",min:"3",max:"30",value:l.autoAdvanceDelay||10,onChange:e=>i(t=>({...t,autoAdvanceDelay:parseInt(e.target.value)})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]})]})]}),(0,r.jsxs)("div",{className:"flex space-x-3 mt-8",children:[(0,r.jsx)("button",{onClick:()=>{d(),o(!1)},className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors",children:"Start Projection"}),(0,r.jsx)("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"Cancel"})]})]})})})]})]})}function N(e){let{hymn:t}=e,s=["lyrics"];t.notations&&t.notations.length>0&&t.notations.forEach(e=>{s.includes(e.format)||s.push(e.format)});let[a,o]=(0,n.useState)("lyrics");return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("h2",{className:"hidden sm:block text-2xl font-bold text-gray-900",children:"Hymn Display"}),(0,r.jsx)(u,{currentFormat:a,availableFormats:s,onFormatChange:o})]}),(0,r.jsx)(j,{hymn:t})]}),(0,r.jsx)("div",{className:"p-8",children:(0,r.jsx)(f,{hymn:t,format:a})})]})}},835:function(e,t,s){"use strict";s.d(t,{default:function(){return x}});var r=s(8980),n=s(2208);let a=n.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}),o=n.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))});var l=s(2886);let i=n.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}),c=n.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))});var d=s(9e3);let m=n.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}),h=n.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}),u=n.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))});function x(e){var t;let{hymn:s,hymnalSlug:x,hymnSlug:p,hymnalRef:g}=e,[b,f]=(0,n.useState)("midi"),[v,w]=(0,n.useState)(!1),[y,j]=(0,n.useState)(!1),[N,k]=(0,n.useState)(!1),[C,M]=(0,n.useState)(!1),[E,L]=(0,n.useState)(!1),[A,S]=(0,n.useState)(null),[I,R]=(0,n.useState)(0),[D,B]=(0,n.useState)(0),[P,W]=(0,n.useState)(0),[T,O]=(0,n.useState)(null),[z,Z]=(0,n.useState)(null),[F,_]=(0,n.useState)(!1),[V,H]=(0,n.useState)({master:1,left:1,right:1,melody:1,bass:1}),[U,K]=(0,n.useState)(new Set),G=(0,n.useRef)(null);(0,n.useEffect)(()=>{(async()=>{let e=new Set;if(null==g?void 0:g.music){if(g.music.midi)try{let t="https://media.adventhymnals.org/audio/".concat(g.id,"/").concat(s.number,".mid");(await fetch(t,{method:"HEAD"})).ok&&e.add("midi")}catch(e){console.log("MIDI file not available:",e)}if(g.music.mp3)try{let t="https://media.adventhymnals.org/audio/".concat(g.id,"/").concat(s.number,".mp3");(await fetch(t,{method:"HEAD"})).ok&&e.add("mp3")}catch(e){console.log("MP3 file not available:",e)}}K(e)})()},[null==g?void 0:g.id,s.number]),(0,n.useEffect)(()=>{let e=J();e.length>0&&!e.find(e=>e.key===b)&&f(e[0].key)},[g,U]),(0,n.useEffect)(()=>{let e;return N&&A&&(e=setInterval(()=>{void 0!==A.currentTime&&(B(A.currentTime),W(A.duration||0),F&&null!==T&&null!==z&&A.currentTime>=z&&(console.log("A-B Loop: Jumping from ".concat(A.currentTime," back to ").concat(T)),A.currentTime=T))},100)),()=>{e&&clearInterval(e)}},[N,A,F,T,z]),(0,n.useEffect)(()=>{let e=e=>{G.current&&!G.current.contains(e.target)&&w(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let J=()=>{let e=[];return U.has("midi")&&e.push({key:"midi",label:"MIDI",size:"~2KB"}),U.has("mp3")&&e.push({key:"mp3",label:"MP3",size:"~2MB"}),0===U.size&&(null==g?void 0:g.music)&&(g.music.midi&&e.push({key:"midi",label:"MIDI (checking...)",size:"~2KB"}),g.music.mp3&&e.push({key:"mp3",label:"MP3 (checking...)",size:"~2MB"})),e},X=e=>{var t;if(!(null==g?void 0:g.music)){alert("Audio not available for this hymnal.");return}let r=(null===(t=J()[0])||void 0===t?void 0:t.key)||"midi",n=e||b||r;if(U.size>0&&!U.has(n)){let e="midi"===n?"mp3":"midi";U.has(e)?alert("".concat(n.toUpperCase()," is not available for hymn #").concat(s.number,". Try ").concat(e.toUpperCase()," instead.")):alert("No audio files are available for hymn #".concat(s.number,"."));return}let a=[];if("mp3"===n&&g.music.mp3&&a.push("https://media.adventhymnals.org/audio/".concat(g.id,"/").concat(s.number,".mp3")),"midi"===n&&g.music.midi&&a.push("https://media.adventhymnals.org/audio/".concat(g.id,"/").concat(s.number,".mid")),"mp3"===n&&g.music.mp3){let e=g.music.mp3;a.push("".concat(e,"/").concat(s.number,".mp3")),e.includes("raw.githubusercontent.com")&&a.push("".concat(e,"/").concat(s.number,".mp3?raw=true"))}if("midi"===n&&g.music.midi&&(Array.isArray(g.music.midi)?g.music.midi:[g.music.midi]).forEach(e=>{a.push("".concat(e,"/").concat(s.number,".mid")),e.includes("raw.githubusercontent.com")&&a.push("".concat(e,"/").concat(s.number,".mid?raw=true"))}),0===a.length){alert("No ".concat(n.toUpperCase()," files available for this hymn."));return}$(a,0)},Y=async e=>{try{if(j(!0),R(10),!customElements.get("midi-player")){R(20);let e=document.createElement("script");e.src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.23.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.4.0",e.async=!0,document.head.appendChild(e),await new Promise((t,s)=>{e.onload=t,e.onerror=()=>s(Error("Failed to load MIDI player library"))}),R(50),await new Promise(e=>setTimeout(e,500))}R(70);let t=document.getElementById("hidden-midi-player");t||((t=document.createElement("midi-player")).id="hidden-midi-player",t.style.display="none",document.body.appendChild(t)),t.loop=C,R(80),t.src=e,await new Promise((e,s)=>{t.addEventListener("load",e,{once:!0}),t.addEventListener("error",s,{once:!0})}),R(90),t.addEventListener("play",()=>{console.log("MIDI play event fired"),k(!0),t.duration&&W(t.duration)}),t.addEventListener("pause",()=>{console.log("MIDI pause event fired"),k(!1)}),t.addEventListener("stop",()=>{console.log("MIDI stop event fired"),k(!1)}),t.addEventListener("load",()=>{console.log("MIDI load event fired"),t.duration&&W(t.duration)}),t.start(),S(t),k(!0),R(100),j(!1),console.log("Playing MIDI file:",e)}catch(t){if(console.error("Failed to play MIDI file:",t),j(!1),R(0),window.confirm('Unable to load MIDI player. Would you like to:\n\n• Click "OK" to download the MIDI file and play it with your system\'s default MIDI player\n• Click "Cancel" to try MP3 format (if available)\n\nDownload the MIDI file?')){let t=document.createElement("a");t.href=e,t.download="".concat((null==g?void 0:g.id)||"hymn","-").concat(s.number,".mid"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}else J().find(e=>"mp3"===e.key)?(f("mp3"),X("mp3")):alert("No alternative audio format available for this hymn.")}},$=(e,t)=>{if(t>=e.length){let t=e.some(e=>e.includes(".mp3")),r=e.some(e=>e.includes(".mid")),n="Audio file could not be loaded for this hymn.";t&&"mp3"===b?n="MP3 audio is not available for hymn #".concat(s.number,". Try MIDI format instead."):r&&"midi"===b&&(n="MIDI audio is not available for hymn #".concat(s.number,".")),alert(n),j(!1),R(0);return}let r=e[t];if(r.endsWith(".mid")){Y(r);return}j(!0),R(10);let n=new Audio;n.loop=C,r.includes("raw.githubusercontent.com")&&r.endsWith(".mp3")&&(n.crossOrigin="anonymous"),n.onloadstart=()=>{console.log("Started loading audio:",r),R(20)},n.onprogress=e=>{if(e.lengthComputable){let t=e.loaded/e.total*100;R(Math.min(20+.6*t,80)),console.log("Download progress: ".concat(t.toFixed(1),"%"))}},n.onloadeddata=()=>{console.log("Audio data loaded, attempting to play"),R(85),n.play().catch(s=>{console.error("Error playing audio:",s),j(!1),R(0),$(e,t+1)})},n.oncanplaythrough=()=>{console.log("Audio can play through"),R(100),j(!1)},n.onplay=()=>{console.log("MP3 play event fired"),k(!0),S(n),W(n.duration||0)},n.onpause=()=>{k(!1)},n.onended=()=>{k(!1),C||(S(null),B(0),W(0))},n.onloadedmetadata=()=>{W(n.duration||0)},n.onerror=s=>{let r=n.error,a="Unknown error";if(r)switch(r.code){case r.MEDIA_ERR_ABORTED:a="Download aborted";break;case r.MEDIA_ERR_NETWORK:a="Network error during download";break;case r.MEDIA_ERR_DECODE:a="Audio decode error";break;case r.MEDIA_ERR_SRC_NOT_SUPPORTED:a="Audio format not supported"}console.log("Failed to load ".concat(e[t]," (").concat(a,"), trying next source...")),console.log("Full error details:",r),console.log("Response headers check needed for:",e[t]),R(0),setTimeout(()=>{$(e,t+1)},500)},n.src=e[t],n.load()},q=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("@")?"https://youtube.com/".concat(e):e.includes("watch?v=")||e.includes("youtu.be/")?e.startsWith("http")?e:"https://youtube.com/".concat(e):e.match(/^[a-zA-Z0-9_-]{11}$/)?"https://youtube.com/watch?v=".concat(e):e.includes("/")?e.startsWith("http")?e:"https://youtube.com/".concat(e):"https://youtube.com/@".concat(e):"https://youtube.com/@adventhymnals",Q=J(),ee=Q.find(e=>e.key===b)?b:(null===(t=Q[0])||void 0===t?void 0:t.key)||"midi",et=Q.find(e=>e.key===ee);return(0,r.jsxs)("div",{className:"mt-8 space-y-4 action-buttons no-print",children:[y&&(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("div",{className:"w-64 bg-white/10 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(I,"%")}})})}),(0,r.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-4",children:[(0,r.jsxs)("div",{className:"relative",ref:G,children:[(0,r.jsxs)("div",{className:"flex",children:[!N&&!y&&(0,r.jsxs)("button",{onClick:()=>X(),disabled:0===Q.length,className:"inline-flex items-center px-2 py-1.5 sm:px-3 sm:py-2 bg-white/10 text-white border border-white/20 hover:bg-white/20 font-medium transition-colors duration-200 text-xs sm:text-sm ".concat(Q.length>1?"rounded-l-lg":"rounded-lg"," ").concat(0===Q.length?"opacity-50 cursor-not-allowed":""),children:[(0,r.jsx)(a,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),(0,r.jsx)("span",{className:"sm:hidden",children:"Play"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:0===Q.length?"No Audio":"Play ".concat(null==et?void 0:et.label)})]}),y&&(0,r.jsxs)("button",{disabled:!0,className:"inline-flex items-center px-2 py-1.5 sm:px-3 sm:py-2 bg-white/10 text-white border border-white/20 font-medium transition-colors duration-200 text-xs sm:text-sm opacity-50 cursor-not-allowed ".concat(Q.length>1?"rounded-l-lg":"rounded-lg"),children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-white mr-1 sm:mr-2"}),(0,r.jsx)("span",{className:"sm:hidden",children:"Loading"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Loading..."})]}),N&&(0,r.jsxs)("button",{onClick:()=>{A&&(N?(A.pause?A.pause():A.stop&&A.stop(),k(!1),console.log("Audio paused")):(A.play?A.play():A.start&&A.start(),k(!0),console.log("Audio resumed")))},className:"inline-flex items-center px-2 py-1.5 sm:px-3 sm:py-2 bg-white/10 text-white border border-white/20 hover:bg-white/20 font-medium transition-colors duration-200 text-xs sm:text-sm ".concat(Q.length>1?"rounded-l-lg":"rounded-lg"),children:[(0,r.jsx)(o,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),(0,r.jsx)("span",{className:"sm:hidden",children:"Pause"}),(0,r.jsxs)("span",{className:"hidden sm:inline",children:["Pause ",null==et?void 0:et.label]})]}),Q.length>1&&(0,r.jsx)("button",{onClick:()=>w(!v),className:"inline-flex items-center px-1 sm:px-2 py-1.5 sm:py-2 bg-white/10 text-white border-l border-l-white/30 border-y border-r border-white/20 hover:bg-white/20 rounded-r-lg font-medium transition-colors duration-200 text-xs sm:text-sm",children:(0,r.jsx)(l.Z,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),v&&Q.length>1&&(0,r.jsx)("div",{className:"absolute top-full left-0 mt-1 w-full min-w-32 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:Q.map(e=>(0,r.jsx)("button",{onClick:()=>{f(e.key),w(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg transition-colors ".concat(ee===e.key?"bg-primary-50 text-primary-600 font-medium":"text-gray-700"),children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{children:e.label}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:e.size})]})},e.key))})]}),A&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>{A&&(A.pause?(A.pause(),A.currentTime=0):A.stop&&A.stop(),k(!1),S(null),B(0),W(0),O(null),Z(null),_(!1))},className:"inline-flex items-center px-2 py-1.5 sm:px-3 sm:py-2 bg-white/10 text-white border border-white/20 hover:bg-white/20 rounded-lg font-medium transition-colors duration-200 text-xs sm:text-sm",children:[(0,r.jsx)(i,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Stop"})]}),(0,r.jsxs)("button",{onClick:()=>{let e=!C;M(e),A&&(A.play&&A.pause?(A.loop=e,console.log("HTML Audio loop set to:",e)):A.start&&A.stop&&(void 0!==A.loop?(A.loop=e,console.log("MIDI player loop set to:",e)):console.log("MIDI player does not support loop property")))},className:"inline-flex items-center px-2 py-1.5 sm:px-3 sm:py-2 border border-white/20 rounded-lg font-medium transition-colors duration-200 text-xs sm:text-sm ".concat(C?"bg-primary-500 text-white hover:bg-primary-600":"bg-white/10 text-white hover:bg-white/20"),children:[(0,r.jsx)(c,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Loop"})]}),(0,r.jsxs)("button",{onClick:()=>L(!E),className:"inline-flex items-center px-2 py-1.5 sm:px-3 sm:py-2 bg-white/10 text-white border border-white/20 hover:bg-white/20 rounded-lg font-medium transition-colors duration-200 text-xs sm:text-sm",children:[(0,r.jsx)(d.Z,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Advanced"})]})]}),(0,r.jsxs)("button",{onClick:()=>{var e;let t=q(null===(e=s.metadata)||void 0===e?void 0:e.youtube);window.open(t,"_blank","noopener,noreferrer")},className:"inline-flex items-center px-2 py-1.5 sm:px-4 sm:py-2 bg-white/10 text-white border border-white/20 hover:bg-white/20 rounded-lg font-medium transition-colors duration-200 text-xs sm:text-sm",children:[(0,r.jsx)("svg",{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136C4.495 20.455 12 20.455 12 20.455s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),"YouTube"]}),(0,r.jsxs)("button",{onClick:()=>{window.print()},className:"inline-flex items-center px-2 py-1.5 sm:px-4 sm:py-2 bg-white/10 text-white border border-white/20 hover:bg-white/20 rounded-lg font-medium transition-colors duration-200 text-xs sm:text-sm",children:[(0,r.jsx)(m,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Print"]}),(0,r.jsxs)("button",{onClick:()=>{let e="/".concat(x,"/").concat(p,"/edit");window.open(e,"_blank","width=1600,height=900,scrollbars=yes,resizable=yes")},className:"inline-flex items-center px-2 py-1.5 sm:px-4 sm:py-2 bg-white/10 text-white border border-white/20 hover:bg-white/20 rounded-lg font-medium transition-colors duration-200 text-xs sm:text-sm",children:[(0,r.jsx)(h,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Edit"]}),(0,r.jsxs)("button",{onClick:()=>{let e=window.location.href,t="".concat(s.title," - Hymn #").concat(s.number),r=e=>{try{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t),alert("Link copied to clipboard!")}catch(t){console.error("Failed to copy text:",t),alert("Unable to copy link. Please copy manually: "+e)}};navigator.share?navigator.share({title:t,text:"Check out this hymn: ".concat(t),url:e}).catch(s=>{console.log("Error sharing:",s),navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText("".concat(t," - ").concat(e)).then(()=>alert("Link copied to clipboard!")).catch(()=>r("".concat(t," - ").concat(e))):r("".concat(t," - ").concat(e))}):navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText("".concat(t," - ").concat(e)).then(()=>{alert("Link copied to clipboard!")}).catch(()=>{r("".concat(t," - ").concat(e))}):r("".concat(t," - ").concat(e))},className:"inline-flex items-center px-2 py-1.5 sm:px-4 sm:py-2 bg-white/10 text-white border border-white/20 hover:bg-white/20 rounded-lg font-medium transition-colors duration-200 text-xs sm:text-sm",children:[(0,r.jsx)(u,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Share"]})]}),E&&A&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-white/5 border border-white/20 rounded-lg",children:[(0,r.jsx)("h4",{className:"text-white font-medium mb-3 text-sm",children:"Advanced Audio Controls"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,r.jsx)("span",{children:"Position"}),(0,r.jsx)("span",{children:P>0?"".concat(Math.floor(D/60),":").concat(String(Math.floor(D%60)).padStart(2,"0")," / ").concat(Math.floor(P/60),":").concat(String(Math.floor(P%60)).padStart(2,"0")):"".concat(Math.floor(D/60),":").concat(String(Math.floor(D%60)).padStart(2,"0"))})]}),(0,r.jsx)("div",{className:"w-full bg-white/10 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300 cursor-pointer",style:{width:P>0?"".concat(D/P*100,"%"):"0%"},onClick:e=>{if(P>0){var t;let s=null===(t=e.currentTarget.parentElement)||void 0===t?void 0:t.getBoundingClientRect();if(s){let t=(e.clientX-s.left)/s.width*P;A&&void 0!==A.currentTime&&(A.currentTime=t)}}}})})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-xs text-white/70 mb-2",children:"Audio Mixer"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[(0,r.jsx)("span",{children:"Master"}),(0,r.jsxs)("span",{children:[Math.round(100*V.master),"%"]})]}),(0,r.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:V.master,onChange:e=>{let t=parseFloat(e.target.value);H(e=>({...e,master:t})),void 0!==A.volume&&(A.volume=t)},className:"w-full h-2 bg-white/10 rounded-lg appearance-none cursor-pointer"})]}),void 0!==A.playbackRate&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[(0,r.jsx)("span",{children:"Left"}),(0,r.jsxs)("span",{children:[Math.round(100*V.left),"%"]})]}),(0,r.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:V.left,onChange:e=>{let t=parseFloat(e.target.value);H(e=>({...e,left:t}))},className:"w-full h-1 bg-white/10 rounded-lg appearance-none cursor-pointer"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[(0,r.jsx)("span",{children:"Right"}),(0,r.jsxs)("span",{children:[Math.round(100*V.right),"%"]})]}),(0,r.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:V.right,onChange:e=>{let t=parseFloat(e.target.value);H(e=>({...e,right:t}))},className:"w-full h-1 bg-white/10 rounded-lg appearance-none cursor-pointer"})]})]}),void 0===A.playbackRate&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[(0,r.jsx)("span",{children:"Melody"}),(0,r.jsxs)("span",{children:[Math.round(100*V.melody),"%"]})]}),(0,r.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:V.melody,onChange:e=>{let t=parseFloat(e.target.value);H(e=>({...e,melody:t}))},className:"w-full h-1 bg-white/10 rounded-lg appearance-none cursor-pointer"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[(0,r.jsx)("span",{children:"Bass"}),(0,r.jsxs)("span",{children:[Math.round(100*V.bass),"%"]})]}),(0,r.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:V.bass,onChange:e=>{let t=parseFloat(e.target.value);H(e=>({...e,bass:t}))},className:"w-full h-1 bg-white/10 rounded-lg appearance-none cursor-pointer"})]})]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-xs text-white/70 mb-1",children:"Speed"}),(0,r.jsx)("div",{className:"flex gap-2",children:[.5,.75,1,1.25,1.5,2].map(e=>(0,r.jsxs)("button",{onClick:()=>{void 0!==A.playbackRate&&(A.playbackRate=e)},disabled:void 0===A.playbackRate,className:"px-2 py-1 text-xs rounded transition-colors ".concat(void 0!==A.playbackRate&&A.playbackRate===e?"bg-primary-500 text-white":void 0===A.playbackRate?"bg-white/5 text-white/30 cursor-not-allowed":"bg-white/10 text-white/70 hover:bg-white/20"),children:[e,"x"]},e))}),void 0===A.playbackRate&&(0,r.jsx)("p",{className:"text-xs text-white/50 mt-1",children:"Speed control not available for MIDI files"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-white/70 mb-1",children:"Section Loop"}),(0,r.jsxs)("div",{className:"flex gap-2 text-xs flex-wrap",children:[(0,r.jsxs)("button",{onClick:()=>{A&&D&&(O(D),console.log("Set Point A at:",D))},className:"px-2 py-1 bg-white/10 text-white rounded hover:bg-white/20",children:["Set Point A ",null!==T?"(".concat(Math.floor(T/60),":").concat(String(Math.floor(T%60)).padStart(2,"0"),")"):""]}),(0,r.jsxs)("button",{onClick:()=>{A&&D&&(Z(D),console.log("Set Point B at:",D))},className:"px-2 py-1 bg-white/10 text-white rounded hover:bg-white/20",children:["Set Point B ",null!==z?"(".concat(Math.floor(z/60),":").concat(String(Math.floor(z%60)).padStart(2,"0"),")"):""]}),(0,r.jsx)("button",{onClick:()=>{if(null!==T&&null!==z){let e=!F;_(e),console.log("A-B Loop toggled to:",e),console.log("Points A:",T,"B:",z),e&&A&&(A.currentTime=T,console.log("Jumped to Point A:",T))}else alert("Please set both Point A and Point B first"),console.log("A-B Loop failed - Points A:",T,"B:",z)},className:"px-2 py-1 rounded ".concat(F?"bg-primary-500 text-white hover:bg-primary-600":"bg-white/10 text-white hover:bg-white/20"," ").concat(null===T||null===z?"opacity-50 cursor-not-allowed":""),disabled:null===T||null===z,children:F?"Stop A-B Loop":"Loop A-B"}),(0,r.jsx)("button",{onClick:()=>{O(null),Z(null),_(!1)},className:"px-2 py-1 bg-white/10 text-white rounded hover:bg-white/20",disabled:null===T&&null===z,children:"Clear Points"})]})]})]})]})}},2424:function(e,t,s){"use strict";s.d(t,{A:function(){return a}});var r=s(2240),n=s(3946);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}},9014:function(e,t,s){"use strict";s.d(t,{default:function(){return n.a}});var r=s(3795),n=s.n(r)},1285:function(e,t,s){"use strict";var r=s(2208);let n=r.forwardRef(function(e,t){let{title:s,titleId:n,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))});t.Z=n},9603:function(e,t,s){"use strict";var r=s(2208);let n=r.forwardRef(function(e,t){let{title:s,titleId:n,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))});t.Z=n},2886:function(e,t,s){"use strict";var r=s(2208);let n=r.forwardRef(function(e,t){let{title:s,titleId:n,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))});t.Z=n},9e3:function(e,t,s){"use strict";var r=s(2208);let n=r.forwardRef(function(e,t){let{title:s,titleId:n,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});t.Z=n},738:function(e,t,s){"use strict";var r=s(2208);let n=r.forwardRef(function(e,t){let{title:s,titleId:n,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"}))});t.Z=n}},function(e){e.O(0,[795,391,222,791,14,512,744],function(){return e(e.s=9060)}),_N_E=e.O()}]);