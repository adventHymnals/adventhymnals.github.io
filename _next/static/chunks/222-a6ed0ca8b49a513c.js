"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{1294:function(e,t,n){n.d(t,{Cv:function(){return i},Py:function(){return l},Q3:function(){return s},kG:function(){return o},loadHymn:function(){return c}});let r=new Map,a="https://adventhymnals.org";function o(e){return a?"".concat(a).concat(e):e}async function i(){let e="hymnal-references";if(r.has(e))return r.get(e);try{let t=await fetch(o("/api/hymnals"));if(!t.ok)throw Error("Failed to fetch hymnal references");let n=await t.json();return r.set(e,n),n}catch(n){console.error("Failed to load hymnal references:",n);let t={hymnals:{SDAH:{id:"SDAH",name:"Seventh-day Adventist Hymnal",abbreviation:"SDAH",year:1985,total_songs:695,language:"en",language_name:"English",site_name:"Seventh-day Adventist Hymnal",url_slug:"seventh-day-adventist-hymnal"}},languages:{en:"English"},metadata:{total_hymnals:1,date_range:{earliest:1985,latest:1985},languages_supported:["en"],total_estimated_songs:695,source:"Fallback data",generated_date:new Date().toISOString().split("T")[0]}};return r.set(e,t),t}}async function c(e){let t="hymn-".concat(e);if(r.has(t))return r.get(t);try{let n=await fetch(o("/api/hymns/".concat(e)));if(!n.ok)return null;let a=await n.json();return r.set(t,a),a}catch(t){return console.warn("Failed to load hymn ".concat(e,":"),t),null}}async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;try{let r=await fetch(o("/api/hymnals/".concat(e,"/hymns?page=").concat(t,"&limit=").concat(n)));if(!r.ok)return{hymns:[],total:0,totalPages:0};return await r.json()}catch(t){return console.warn("Failed to load hymns for hymnal ".concat(e,":"),t),{hymns:[],total:0,totalPages:0}}}async function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;try{let r=new URLSearchParams({q:e,limit:n.toString()});t&&r.append("hymnal",t);let a=await fetch(o("/api/search?".concat(r.toString())));if(!a.ok)return[];return await a.json()}catch(e){return console.warn("Failed to search hymns:",e),[]}}},6199:function(e,t,n){var r=Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},a=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(6636),t),a(n(8471),t),a(n(2587),t)},2587:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateProjectionSlides=function(e,t){let n=[];for(let r of(n.push({id:"".concat(e.id,"-title"),type:"title",content:e.title,metadata:{title:e.title,author:e.author}}),e.verses))n.push({id:"".concat(e.id,"-verse-").concat(r.number),type:"verse",content:r.text,number:r.number,metadata:{verseNumber:r.number,isChorus:!1}}),t.showChorusAfterEachVerse&&e.chorus&&n.push({id:"".concat(e.id,"-chorus-after-").concat(r.number),type:"chorus",content:e.chorus.text,metadata:{verseNumber:r.number,isChorus:!0}});if(!t.showChorusAfterEachVerse&&e.chorus&&n.push({id:"".concat(e.id,"-chorus-final"),type:"chorus",content:e.chorus.text,metadata:{isChorus:!0}}),t.showMetadata){var r,a;let t=[e.author&&"Words: ".concat(e.author),e.composer&&"Music: ".concat(e.composer),e.tune&&"Tune: ".concat(e.tune),e.meter&&"Meter: ".concat(e.meter),(null===(r=e.metadata)||void 0===r?void 0:r.year)&&"Year: ".concat(e.metadata.year),(null===(a=e.metadata)||void 0===a?void 0:a.copyright)&&"\xa9 ".concat(e.metadata.copyright)].filter(Boolean).join("\n");t&&n.push({id:"".concat(e.id,"-metadata"),type:"metadata",content:t})}return n},t.formatSlideContent=function(e,t){let n=e.content;return t.showVerseNumbers&&"verse"===e.type&&e.number&&(n="".concat(e.number,".\n").concat(n)),"chorus"===e.type&&(n="Chorus\n".concat(n)),n},t.getSlideTitle=function(e){switch(e.type){case"title":return"Title";case"verse":return"Verse ".concat(e.number);case"chorus":return"Chorus";case"metadata":return"Information";default:return"Slide"}},t.getProjectionThemeClasses=function(e){switch(e){case"dark":return{container:"bg-gray-900 text-white",text:"text-white",background:"bg-gray-900"};case"high-contrast":return{container:"bg-black text-white",text:"text-white",background:"bg-black"};default:return{container:"bg-white text-gray-900",text:"text-gray-900",background:"bg-white"}}},t.getFontSizeClasses=function(e){switch(e){case"small":return"text-2xl md:text-3xl lg:text-4xl";case"medium":default:return"text-3xl md:text-4xl lg:text-5xl";case"large":return"text-4xl md:text-5xl lg:text-6xl";case"extra-large":return"text-5xl md:text-6xl lg:text-7xl xl:text-8xl"}},t.splitSlideIntoLines=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e.split("\n").filter(e=>""!==e.trim());if(n.length<=t)return[e];let r=[];for(let e=0;e<n.length;e+=t){let a=n.slice(e,e+t);r.push(a.join("\n"))}return r},t.getKeyboardShortcuts=function(){return[{key:"Space / →",description:"Next slide",action:"next"},{key:"← / Backspace",description:"Previous slide",action:"previous"},{key:"Home",description:"First slide",action:"first"},{key:"End",description:"Last slide",action:"last"},{key:"F",description:"Toggle fullscreen",action:"fullscreen"},{key:"Esc",description:"Exit projection",action:"exit"},{key:"S",description:"Settings",action:"settings"},{key:"1-9",description:"Jump to verse",action:"jump-verse"},{key:"C",description:"Jump to chorus",action:"jump-chorus"}]},t.createProjectionURL=function(e,t){let n="/projection/".concat(e);return void 0!==t?"".concat(n,"?slide=").concat(t):n}},6636:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},8471:function(e,t){function n(e){return e.replace(/[^\d.]/g,"").split(".").map(e=>e.trim()).filter(e=>e.length>0).join(".")}function r(e){return e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}function a(e){return r("hymn-".concat(e.number,"-").concat(e.title))}function o(e,t){return e.length<=t?e:e.slice(0,t).replace(/\s+\S*$/,"")+"..."}Object.defineProperty(t,"__esModule",{value:!0}),t.generateHymnId=function(e,t,n){return"".concat(e,"-").concat(n,"-").concat(t.toString().padStart(3,"0"))},t.normalizeMetricalPattern=n,t.extractMetricalPattern=function(e){let t=n(e),r=[e.trim(),t].filter((e,t,n)=>n.indexOf(e)===t);return{pattern:t,variations:r,hymns:[]}},t.searchHymnText=function(e,t){var n,r,a,o;let i=t.toLowerCase();if(e.title.toLowerCase().includes(i)||(null===(n=e.author)||void 0===n?void 0:n.toLowerCase().includes(i))||(null===(r=e.composer)||void 0===r?void 0:r.toLowerCase().includes(i))||(null===(a=e.tune)||void 0===a?void 0:a.toLowerCase().includes(i)))return!0;for(let t of e.verses)if(t.text.toLowerCase().includes(i))return!0;return null!==(o=e.chorus)&&void 0!==o&&!!o.text.toLowerCase().includes(i)},t.validateHymnStructure=function(e){let t=[];return e.id||t.push("Hymn ID is required"),e.title||t.push("Hymn title is required"),e.language||t.push("Hymn language is required"),e.verses&&0!==e.verses.length||t.push("At least one verse is required"),e.verses&&e.verses.forEach((e,n)=>{var r;(null===(r=e.text)||void 0===r?void 0:r.trim())||t.push("Verse ".concat(n+1," text is empty")),e.number!==n+1&&t.push("Verse ".concat(n+1," number mismatch"))}),t},t.formatHymnNumber=function(e,t){let n=t.toString().length;return e.toString().padStart(n,"0")},t.getLanguageInfo=function(e){return({en:{name:"English",native_name:"English",rtl:!1},sw:{name:"Swahili",native_name:"Kiswahili",rtl:!1},luo:{name:"Luo",native_name:"Dholuo",rtl:!1},fr:{name:"French",native_name:"Fran\xe7ais",rtl:!1},es:{name:"Spanish",native_name:"Espa\xf1ol",rtl:!1},de:{name:"German",native_name:"Deutsch",rtl:!1},pt:{name:"Portuguese",native_name:"Portugu\xeas",rtl:!1},it:{name:"Italian",native_name:"Italiano",rtl:!1}})[e]||{name:"Unknown",native_name:"Unknown",rtl:!1}},t.calculateTextSimilarity=function(e,t){let n=e=>e.toLowerCase().replace(/[^\w\s]/g,"").trim(),r=n(e),a=n(t);if(r===a)return 1;let o=r.split(/\s+/),i=a.split(/\s+/),c=o.filter(e=>i.includes(e)),s=[...new Set([...o,...i])];return c.length/s.length},t.extractThemes=function(e){var t;let n=[];e.title.toLowerCase();let r=[e.title,...e.verses.map(e=>e.text),(null===(t=e.chorus)||void 0===t?void 0:t.text)||""].join(" ").toLowerCase();for(let[e,t]of Object.entries({praise:["praise","glory","honor","worship","adore","magnify"],prayer:["pray","prayer","petition","intercession","supplication"],salvation:["save","salvation","redeem","redemption","forgive"],love:["love","beloved","dear","cherish","affection"],peace:["peace","calm","rest","tranquil","serenity"],hope:["hope","faith","trust","believe","confidence"],service:["serve","service","work","labor","ministry"],christmas:["christmas","nativity","bethlehem","manger","wise men"],easter:["easter","resurrection","cross","calvary","tomb"],second_coming:["coming","return","appear","clouds","trumpet"]}))t.some(e=>r.includes(e))&&n.push(e);return n},t.sanitizeFilename=function(e){return e.replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").toLowerCase()},t.createSlug=r,t.generateHymnSlug=a,t.formatHymnTitle=function(e){return"".concat(e.number,". ").concat(e.title)},t.getHymnUrl=function(e,t){return"/".concat(e,"/").concat(a(t))},t.parseHymnNumber=function(e){let t=e.match(/hymn-(\d+)-/);return t?parseInt(t[1],10):null},t.classNames=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")},t.truncateText=o,t.pluralize=function(e,t,n){return 1===e?t:n||"".concat(t,"s")},t.formatNumber=function(e){return new Intl.NumberFormat().format(e)},t.getInitials=function(e){return e.split(" ").map(e=>e.charAt(0).toUpperCase()).join("").slice(0,2)},t.isValidEmail=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},t.generateMetaDescription=function(e,t){var n,r;let a=o((null===(r=e.verses[0])||void 0===r?void 0:null===(n=r.text)||void 0===n?void 0:n.split("\n")[0])||"",120);return"".concat(e.title," - Hymn ").concat(e.number," from ").concat(t,". ").concat(a)},t.generateStructuredData=function(e,t){var n,r,a,o,i;return{"@context":"https://schema.org","@type":"MusicComposition",name:e.title,composer:e.composer?{"@type":"Person",name:e.composer}:void 0,lyricist:e.author?{"@type":"Person",name:e.author}:void 0,inLanguage:e.language,dateCreated:null===(r=e.metadata)||void 0===r?void 0:null===(n=r.year)||void 0===n?void 0:n.toString(),isPartOf:{"@type":"MusicAlbum",name:t.title,datePublished:null===(a=t.year)||void 0===a?void 0:a.toString()},keywords:null===(i=e.metadata)||void 0===i?void 0:null===(o=i.themes)||void 0===o?void 0:o.join(", "),text:e.verses.map(e=>e.text).join("\n\n")}},t.formatDate=function(e){let t="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)},t.formatRelativeTime=function(e){let t="string"==typeof e?new Date(e):e,n=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),r=t.getTime()-Date.now(),a=Math.abs(r);return a<6e4?n.format(Math.round(r/1e3),"second"):a<36e5?n.format(Math.round(r/6e4),"minute"):a<864e5?n.format(Math.round(r/36e5),"hour"):n.format(Math.round(r/864e5),"day")}}}]);